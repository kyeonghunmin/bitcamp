// 주제 : Reflection Api - 메서드의 파라미터 정보 알아내기

package step25;

import java.lang.reflect.Method;

public class Test09 {
  static class Member {
    String name;
    int age;
    float weight;
    float height;
    
    public void setMember(String name, int age, float weight, float height) {
      this.name = name;
      this.age = age;
      this.weight = weight;
      this.height = height;
      
    }

    @Override
    public String toString() {
      return "Member [name=" + name + ", age=" + age + ", weight=" + weight + 
          ", height=" + height + "]";
    }
    
    
    
  }

  public static void main(String[] args) throws Exception {
    Class<?> clazz = Class.forName("step25.Test08$Member");  
    
    // 1) 인스턴스 생성
    Object obj = clazz.newInstance();
    // obj -> 실질적으로 Member의 객체
    
    // 2) setName()메서드 찾기
    Method m1 = clazz.getDeclaredMethod("setName", String.class);
    
    // 메서드 호출
    // => 문법 : invoke(인스턴스, 값, 값, 값.....)
    // => 스태틱 메서드인 경우, 인스턴스는 null을 준다.
    // => 인스턴스 메서드인 경우, 반드시 인스턴스 주소를 줘야한다.
    m1.invoke(obj, "홍길동"); // invoke() -> 호출한다
    System.out.println(obj);
    
    m1 = clazz.getDeclaredMethod("setName", String.class, 
                                  String.class, String.class);
    m1.invoke(obj, "홍", "길", "동");
    System.out.println(obj);

    
  }
}
